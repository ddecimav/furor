<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Prueba 4 - Canciones con la tem√°tica</title>
<style>
body { margin:0; font-family:'Segoe UI', Arial, sans-serif; background:#0b0e1a; color:white; text-align:center;}
header { padding:20px; background:#111;}
h1 { font-size:50px; color:#33ff77; margin-bottom:10px; }
#description { font-size:20px; margin-bottom:20px; max-width:900px; margin-left:auto; margin-right:auto; }
#timer { font-size:80px; margin:20px 0; }
.ruleta { margin:20px auto; padding:20px; width:600px; border:3px solid #333; background:#222; font-size:28px; height:80px; line-height:40px; }
button { font-size:22px; padding:10px 20px; margin:5px; cursor:pointer; }
</style>
</head>
<body>

<header>
<h1>Canciones con la tem√°tica...</h1>
<div id="description">
Cada equipo cantar√° canciones de la tem√°tica que se indique. El equipo que no pueda decir m√°s pierde. Si se agota el tiempo gana el equipo que tir√≥ la ruleta. Tiempo: 180 segundos.
</div>
</header>

<div id="timer">180</div>

<div class="ruleta" id="ruleta">Pulsa GIRAR para elegir tem√°tica</div>
<button id="girar">üé° GIRAR</button>

<div>
<button onclick="startTimer()">‚ñ∂ Iniciar Temporizador</button>
<button onclick="pauseTimer()">‚è∏ Pausar</button>
<button onclick="resetTimer()">‚èπ Reset</button>
</div>

<!-- Sonidos -->
<audio id="tickSound"><source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg"></audio>
<audio id="gongSound"><source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" type="audio/ogg"></audio>
<audio id="spinSound"><source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" type="audio/ogg"></audio>

<script>
let tematicas = ["Familia","Amor","LGTBIAQ+","Feministas","Naturaleza","Fiesteras","Antes del 2000","√öltimos 5 a√±os","De series de dibujos","Con baile o coreograf√≠a","Animales","Del verano","De festividades (navide√±as, halloween, etc.)"];
let usadas = [];
const ruletaEl = document.getElementById("ruleta");
const spinSound = document.getElementById("spinSound");
const tickSound = document.getElementById("tickSound");
const gongSound = document.getElementById("gongSound");

document.getElementById("girar").addEventListener("click",()=>{
  if(tematicas.length===0){ alert("Todas las tem√°ticas usadas"); return; }
  let index=Math.floor(Math.random()*tematicas.length);
  let tema=tematicas.splice(index,1)[0];
  usadas.push(tema);
  ruletaEl.innerText=tema;
  spinSound.play();
});

let time=180;
document.getElementById("timer").innerText=time;
let timer=null;

function startTimer(){
  if(timer) return;
  timer=setInterval(()=>{
    time--;
    document.getElementById("timer").innerText=time;
    if(time<=10 && time>3) tickSound.play();
    if(time<=10 && time>3) document.getElementById("timer").style.color="yellow";
    if(time<=3 && time>0) document.getElementById("timer").style.color="red";
    if(time<=0){ clearInterval(timer); timer=null; document.getElementById("timer").innerText=0; gongSound.play(); alert("¬°Tiempo terminado!"); }
  },1000);
}
function pauseTimer(){ clearInterval(timer); timer=null; }
function resetTimer(){ clearInterval(timer); timer=null; time=180; document.getElementById("timer").innerText=time; document.getElementById("timer").style.color="white"; tematicas=tematicas.concat(usadas); usadas=[]; }
</script>

</body>
</html>
